---
title: 成都面试
categories: 面试
---

### 软通动力
公司类型：人员外包到咪咕，12薪，无年终奖
面试题目：
1. Activity的生命周期
2. Service的两种启动方式及其生命周期
3. Android事件分发机制
4. Andoird事件冲突的处理
5. 自定义View的过程
6. ButterKnife的原理
7. Handler机制

整体回顾：
- 问题1:主要问了A Activity跳转到 B Activity时双方的生命周期的问题。如果B Activity非透明的话，那么B的生命周期为 onPause->onStop->onDestory A的生命周期为onRestart onStart onResume
- 问题5:一般的自定义View的过程 判断是否需要自定义属性，注意OnMeasure方法支持wrap_content，在onDraw方法中注意padding
- 问题6:ButterKnife主要使用了APT技术，通过该技术可以通过解析源文件中的注解，生成新的文件并与源文件共同编译。如我们在Activity A中 添加了ButterKnife中自定义的注解，那么通过APT技术，我们可以生成一个 AActivityBinding的类，同时在该类中对Activity中的控件进行了查找与赋值。那么当我们通过ButterKnife绑定控件的时候，会通过反射调AActivityBinding的构造函数，完成对ActivityA的控件数据的绑定。减少了样板的代码。

### 诚迈科技
公司类型：人员外包到oppeo，
面试题目：
1. 应用启动白屏
2. 线程池的使用，及参数说明
3. View的工作流程
4. 内存泄露和检查工具
5. 内存泄露的场景
6. HashMap与HashTable的区别
7. 自定义View需要注意的事项

整体回顾：

- 问题3：
View的工作流程
activity创建的时候会将DecorView会与ViewRootImpl类进行关联，
- 问题6：
#### HashTable 
默认初始容量：11，扩容范围：当前数组长度的2倍+1
特点：不允许Key/Value为null。
hash算法：当前key的hashCode%当前数组长度
线程安全： 是线程安全的

#### HashMap1.7版
默认初始容量：16，为2的平方，主要是为了取模与扩容的优化  处理过后的hash& (len-1)等价与与len进行取模操作。操作效率要快


#### HashMap1.8版

- 优化方面：优化了取模算法，增加了红黑树。扩容进行了优化。
- 取模算法优化：hashCode的高16位与低16为进行异或运算（key.hashCode^key.hashCode>>>16)&(len -1),其中len为数组长度，主要原因：在数组长度较小的时候，hashCode的高16位与低16都能参加hash运算。
- 红黑树优化：当链表中的节点相对较长时时间复杂度为,(On)，转换为红黑树，主要是为了优化查询的效率。


#### HashTable 与 HashMap CocurrentHashMap的选择
多线程：考虑cocurrentHashMap因为效率比HashTable高
单线程：考虑HashMap 1.8


#### 艾欧比
面试题目：机试

