---
title: Git新手教程-日志提交规范（五）补充
tags:
  - Git
categories:
  - Git相关
---


### 前言

如果大家学习了之前的文章《Git新手教程-向仓库中添加commit(五)》，我相信大家肯定还会为如何提交一个比较规范的Commit信息而烦劳，虽然我们在上面的文章中介绍了两篇相关的文章：

- [怎么写Git Commit Message](https://www.jianshu.com/p/0117334c75fc)
- [Commit message 和 Change log 编写指南](http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html)

我相信大家肯定还是会疑惑，这里就以我之前公司的commit规范为列子。希望起到一个抛砖引玉的作用。毕竟commit信息只是人为规范，不同公司，不同项目，不同人有着自己的见解。因为作者本身是一名爱岗敬业的Android程序员，可能提交日志相对于倾向于移动端，所以如果大家有更好的提交日志分享。这里非常欢迎在评论中看到你的回答~
  
### 关于我的日志提交规范

整个信息结构由两个不同的部分构成，这些部分由空行分割：标题、可选的消息体。

```text
类型：主题
消息正文
```

具体的结构如下所示：

```text
类型:【项目组名称/简称】【需求/Bug ID】【有无风险】【有无依赖】【需求描述/Bug描述】

  分析:{ }
  方案:{ }
  风险:{ }
  测试建议:{ }
  适用范围:{ }
  测试机型:{ }
  自测结果:{ }
```

#### 类型（必填）

类型位于在标题内，且遵守Angular规范，有以下几种可能：

- **feat**：新功能
- **fix**：错误修复
- **docs**：文档修改
- **style**：格式、分号缺失等，代码无变动
- **refactor**：生产代码重构
- **test**：测试添加、测试重构等，生产代码无变动
- **chore**：构建任务更新、程序包管理器配置等，生产代码无变动。

#### 项目组名称/简称（非必填）

填写项目组名称或者简称，但是一般建议简称。这样我们就能迅速找到该项目组提交的代码。代码如果出现了问题，我们也能快速定位。

#### 需求/Bug Id（必填）

需求/Bug Id需要对应你自己的公司项目的管理工具如JIRA、Icafe、Teambition等。填写`需求Id`或者`Bug Id`有助于我们后期快速定位需求，定位Bug.

#### 有无风险(非必填)

#### 有无依赖(非必填)

这里有无依赖是指的是否依赖其他模块，如果公司的项目很大，一般都会涉及到多模块，不同模块之间肯定会有依赖关系。这里举一个简单的例子，假如我们开发的是一个商场项目，现在我们是`基础业务组`，现在有一个需求`#331`，需要让我们实现点击某个商品，完成购物，那么我们肯定会涉及到用户支付，而支付又是`支付组`在负责。那么在进行commit提交时，我们就可以添加`【支付模块】`，这样做不仅可以让我们的测试工程师清晰的知道需求所包含的模块。也能在项目以后出现问题的时候，能够对症下药。

#### 需求描述/Bug描述（必填）

在标题处，通过对需求与Bug的简短的描述，也能快速的让其他人知道我们这个提交到底是做什么的。一般简短，扼要的描述就行了，如果你觉得简短的语句并不能很好的概述所需要解决的问题，那么你可以在消息正文中在进行详细的描述。

#### 标题内容解析

- 业态：多业态需要区分
- 包名：修改bug或新增功能对应的包名
- 需求：需求/Bug ID
- 有无风险：
- 有无依赖：是否依赖其他模块
- 需求描述或者Bug描述：简短描述一下需求和Bug


* 标题(最好不要超过50个字符）
       业态：多业态需要区分
       包名：修改bug或新增功能对应的包名
       需求：需求/Bug ID
       有无风险：
       有无依赖：是否依赖其他模块
       需求描述或者Bug描述：简短描述一下需求和Bug
* 正文
       分析：新需求分析，Bug出现的原因。
       方案：解决方案，通常情况下，如果是解决Bug的问题下会写。
       风险：
       测试建议：详细说明，有哪些界面需要测试，哪些地方需要特别注意。
       适用范围：针对某一个版本？针对所有业态？还是对应某个业态下的对应版本。
       测试机型：对应的设备，红云or蓝云(pos组）。
       自测结果：完成功能或修改Bug后，自测结果。

标题由消息类型和主题构成。


### 标题
主题不得超过50个字符，首字母大写，末尾不加句号。
以祈使语气描述提交的任务，而不是其已完成的任务。例如，使用 **change**...，而不是 changed 或 changes 。

### 信息正文
并不是所有的提交信息都复杂到需要主体，因此这是可选内容，仅在提交信息需要一定的解释和语境时使用。消息体是用于解释提交任务的内容和原因，而不是方法。

在编写正文时，需要在标题和正文间加一个空行，且每行的内容应控制在72个字符内。

### 注释
注释是可选内容，用于引用问题跟踪的 ID 。

### 提交信息示例


Feature: 总结变动的内容，保持在50个字符内

如有需要，使用更详细的说明性文字，将其大概控制在72个字符。在部分语境中，第一行被视为提交信息的主题，余下的文本被视为主体。分隔总结与主体的空行十分重要（除非你完全忽略主体）；否则`log`、`shortlog`和`rebase`等多个工具容易发生混淆。
解释该提交信息所解决的问题，说明你进行该变动的原因，而不是方法（代码本身可以解释方法）。
该变动是否存在副作用或其他直觉性后果？在这里进行解释。

后续段落前需加空行。
可以列出要点
- 通常情况下，要点会使用空格加上连字符或星号，中间用空行分隔，但该规定存在差别。

如果你使用问题追踪，将其引用放在末尾，例如：
解决了问题：#123
另见：#456, #789
```

有可能很多人，觉得认真填写Commit消息，并没有太多的用处，但是你是否曾想过，当你面对庞大的项目时，没有开发文档，代码多如毛，这个时候如果有一个良好的commit 提交日志，我们能否从中获取当时那个人写这行代码的所思、所感呢。不仅帮助自己，也帮助别人。何乐而不为呢。

### 最后

站在巨人的肩膀上，才能看的更远~
