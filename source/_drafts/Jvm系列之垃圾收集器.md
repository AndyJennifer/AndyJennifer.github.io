---
title: Jvm系列之垃圾收集器
tags:
- Jvm
categories:
- Jvm
---


### Serial收集器

特点：单线程，并发的垃圾回收，会在用户看不见的情况下停止用户线程
使用算法：复制算法
回收区域：虚拟机的新生代区域
包括内容：Eden区域，From Survivor  ToSurvivor

### parnew 收集器

特点：多线程，并发的垃圾回收。会在用户看不见的情况下停止用户线程
缺点：在单CPU的情况下回收效率可能没有Serial收集器效率高（因为存在着线程的切换）
使用算法：复制算法
回收区域：虚拟机的新生代区域
包括内容：Eden区域，From Survivor  ToSurvivor

### parallel scvenge收集器

特点：多线程，可控制吞吐量，可控吞吐量与垃圾回收时间
使用算法：复制算法
回收区域：虚拟机的新生代区域
包括内容：Eden区域，From Survivor  ToSurvivor

### Serial old收集器

特点：单线程，并发的垃圾回收，会在用户看不见的情况下停止用户线程
使用算法：标记-整理算法
回收区域：虚拟机的老年代

### parallel old 收集器

特点：parallel Scangenge收集器的老年代版本，与parallel scvenge垃圾收集器一样
使用算法 ：标记-整理算法
回收区域：虚拟机的老年代

### CMS收集器

特点：CMS(concurrent mark sweep) `单线程` 且并行，用户线程和垃圾收集线程同时进行。
具体步骤：

1. 初始标记：找到GC Roots能直接关联到的对象（会暂停用户线程）
2. 并发标记：从GC Roost对象开始进行可达性分析算法，找出存活对象。（耗时较长，与用户线程并行）
3. 重新标记：修正并行期间，因为用户线程导致的标记对象发生改变。进行重新标记（会暂停用户线程）
4. 并发清除：清除没有存活的对象（耗时长，与用户线程并行）

缺点：1.无法处理浮动垃圾，2.垃圾收集后会产生大量空间碎片，3。会占用cpu资源
使用算法：标记-清除算法
回收区域：虚拟机的老年代

### G1(garbage first)收集器

特点：`多线程`且并行。用户线程和垃圾收集线程同时进行。
具体步骤：

1. 初始标记：找到GC Roots能直接关联到的对象（会暂停用户线程）
2. 并发标记：从GC Roost对象开始进行可达性分析算法，找出存活对象。（耗时较长，与用户线程并行）
3. 重新标记：修正并行期间，因为用户线程导致的标记对象发生改变。进行重新标记（会暂停用户线程）
4. 筛选回收：分代回收：清除没有存活的对象（耗时长，与用户线程并行）
使用算法：对于新生代：采用复制算法。对于老年代采用标记-标记整理算法。
回收区域：新生代与老年代

