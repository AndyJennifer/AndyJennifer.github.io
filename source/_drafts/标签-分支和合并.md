---
title: '标签,分支和合并'
tags:
  - Git
categories:
  - Git先关
---

### 前言

在之前的文章中，我们已经对仓库和提交已经有一定的了解了，在该篇文章中，我们将学习git tag、git branch、 git checkout 和 git merge

使用git tag你可以为特定提交添加标签。标签是提交的额外比较，可以指示有用的信息。比如这时relase.2.0.0；
使用git branch 你可以创建分支。用于并行开发项目的不同功能。而不会对那些提交，属于那个功能而感到困惑。这里非常难以理解，不过我们会在后面的文章中，详细介绍。
使用 git checkout 你可以在不同的分支和标签之间进行切换。
使用 git merge 可以将不同分支上的更改自动合并在一起


### 标签

介绍标签的含义，然后画图

讲解git tag v1.0.0 git tag -a v1.0.0之间的区别
讲解怎么删除tag


#### 向以前的提交的commit 添加标签

只需提供要添加标签的 commit 的 SHA 即可！

```bash
git tag -a v1.0 a87984
```


### 分支

现在该学习强大的分支功能了！git 中的分支非常灵活，使你能够实现一些很强大的功能。在详细了解一些具体的命令之前，我们先从宏观层面了解下什么是分支以及它们的工作方式。

画图讲解分支，headr指针。master指针

#### 创建分支命令

要创建分支，只需使用 git branch 并提供要创建的分支对应的名称。因此，如果你想创建一个叫做"sidebar"的分支，只需运行以下命令：

```bash
git branch dev
```

#### 日志中的分支

提示符中的分支信息很有用，但是最清晰的查看方式是查看 git log 的输出结果。就像我们需要使用 --decorate 选项来显示 git 标签一样，我们也需要该选项来显示分支。

```bash
git log --oneline --decorate

```

#### git checkout 命令

注意，在进行 commit 时，该 commit 将添加到当前分支上。虽然我们创建了新的 sidebar 分支，但是没有向其添加新的 commit，因为我们尚未切换到该分支。如果我们现在进行 commit 的话，该 commit 将添加到 master 分支，而不是 sidebar 分支。我们已经在演示中看到这一情况，要在分支之间进行切换，我们需要使用 git 的 checkout 命令。

```bash
git checkout dev
```

请务必了解该命令的工作方式。运行该命令将：
从工作目录中删除 git 跟踪的所有文件和目录
(git 跟踪的文件存储在仓库中，因此什么也不会丢失)
转到仓库，并提取分支指向的 commit 所对应的所有文件和目录
因此此命令将删除 master 分支中的 commit 引用的所有文件。它会将这些文件替换为 sidebar 分支中的 commit 引用的文件。理解这一部分十分重要，所以请务必多读几遍工作方式。

有趣的是，sidebar 和 master 都指向同一 commit，因此当你在这两个分支之间切换时，看起来什么也没变。但是提示符现在会显示"sidebar"：


#### 分支删除

删除分支
分支用来进行开发或对项目进行修正，不会影响到项目（因为更改是在分支上进行的）。在分支上做出更改后，你可以将该分支组合到 master 分支上（这种“分支组合过程”叫做“合并”（merge），稍后将详细讲解）

合并了分支的更改后，你可能不再需要该分支了。如果你想删除分支，可以使用 -d 选项。下面的命令包含 -d 选项，告诉 git 删掉给出的分支（这里是"sidebar"分支）。

```bash
git branch -d dev
```

注意，无法删除当前所在的分支。因此要删除 dev 分支，你需要切换到 master 分支，或者创建并切换到新的分支。

删除内容让人比较紧张。但是不用担心。如果某个分支上有任何其他分支上都没有包含的 commit（也就是这个 commit 是要被删除的分支独有的），git 不会删除该分支。如果你创建了 dev 分支，向其添加了 commit，然后尝试使用 `git branch -d dev`删除该分支，git 不会让你删除该分支，因为你无法删除当前所在的分支。如果你切换到 master 分支并尝试删除 dev 分支，git 也不会让你删除，因为 dev 分支上的新 commit 会丢失！要强制删除，你需要使用大写的 `D` 选项 `git branch -D sidebar`。


### 高效分支

我们已经做出了所有需要做出的更改！很棒！

我们已经在三个不同的分支上进行了多项更改。我们在 git log 输出结果中看不到其他分支，触发切换到某个分支。如果能在 git log 输出结果中看到所有分支，是不是很棒？

你到现在为止已经知道，git log 命令非常强大，可以显示此信息。我们将使用新的 `--graph` 和 `--all` 选项

```bash
git log --oneline --decorate --graph --all

```

等同于

```bash
git log --oneline  --graph --all
```

### 合并

### 合并冲突

### 总结


### 最后

站在巨人的肩膀上，才能看的更远~
